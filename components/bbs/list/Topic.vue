<template>
  <div>
    <span class="pink justified" style="text-align: left">
      <nuxt-link to="/bbs" class="pink">BBS</nuxt-link> »
      <nuxt-link :to="'/bbs/' + $route.params.id" class="pink"
        >BBS</nuxt-link
      ></span
    >
    <nuxt-link
      :to="'/bbs/' + $route.params.id + '/' + $route.params.topic"
      class="pink"
      ><h1 v-if="messages[0]" class="justified ellipsis">
        {{ messages[0].title }}
      </h1></nuxt-link
    >
    <br />
    <table class="bbs">
      <colgroup>
        <col class="info" width="100" />
        <col width="100%" />
      </colgroup>
      <thead>
        <tr>
          <th valign="top" colspan="2" height="25" nowrap="nowrap">
            « Sujet Précédent Sujet Suivant »
          </th>
        </tr>
      </thead>
      <tbody>
        <Message
          v-for="(message, index) in messages"
          :key="message.id"
          :message="message"
          :separator="index != messages.length - 1"
        />
      </tbody>
    </table>
  </div>
</template>

<script>
import Message from '../row/Message.vue'

export default {
  name: 'Topic',
  components: {
    Message,
  },
  props: {
    messages: {
      required: true,
      type: Array,
    },
  },
}
</script>
<style  scoped>
.ellipsis {
  color: #ff3399;
}

.info {
  display: none !important;
}

@media (min-width: 800px) {
  .info {
    display: table-column !important;
  }
}
</style>
